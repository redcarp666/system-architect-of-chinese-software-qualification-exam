# 系统架构设计综合知识点
官方教材中的上篇（前十一章）是系统架构设计师应熟练掌握的基本知识，下篇为案例分析，分门别类地详细介绍了系统架构设计的相关理论、方法和案例分析。
该文档是由该教材中提炼出来的知识点，方便查阅、复习，这些知识点在考题中出现的概率非常高。文档目录根据考纲进行优化编制而成。
## 一、计算机系统基本知识
### 1.1计算机系统概述
#### 计算机系统定义
> 计算机系统指用于数据管理的计算机硬件、软件及网络组成的系统。
#### 计算机系统组成
<img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90.png" alt="计算机系统组成示意图" width="30%"/>


#### 计算机系统分类
<img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%86%E7%B1%BB.png" alt="计算机系统分类示意图" width="30%"/>


### 1.2计算机硬件
#### 计算机硬件组成
冯诺依曼计算机结构图
> <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/a7049cfe9b30e57336ac104734f06176ab4eac61/img/%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84.png" alt="冯诺依曼体系结构" width="40%"/>
* 处理器
* 存储器：分层的体系结构，按照与处理器的**物理距离**
	- 片上缓存：处理器集成的
	- 片外缓存：处理器核心外
	- 内存（主存）
	- 外存
* 总线（Bus）
* 接口
* 外部设备
### 1.3计算机软件
**系统软件**、**应用软件**两大类
#### 操作系统
* 操作系统的组成
  	- 操作系统内核（对硬件设备进行了抽象，提供了一套简洁、统一的**系统调用接口**），以CPU**最高优先级**运行，提供以下**功能**：
  	  	1. 进程管理
  	  	2. 存储管理
  	  	3. 文件管理
  	  	4. 设备管理
  	  	5. 。 。 。
  	- 图形用户界面程序
  	- 常用应用程序（日历、计算器、资源管理器）
  	- 实用程序（任务管理器）
  	- 软件构件（编译器、程序库）
* 操作系统的特征
	1. 并发性：宏观上同时执行，微观上交替、轮流执行
	2. 共享性：资源共享
  	3. 虚拟性：操作系统中的一种管理技术，物理实体虚拟化，如虚拟内存
  	4. 不确定性：资源有限，导致程序“走走停停”
#### 数据库系统
* 关系数据库设计的基本步骤：1.需求分析、2.概念结构设计、3.逻辑结构设计、4.物理结构设计、5.应用程序设计、6.运行维护
* 分布式数据库：我国抽象为4层的结构模式
  	- <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84%E6%A8%A1%E5%BC%8F.png" alt="分布式数据库结构模式" width="40%"/>
  
#### 文件系统
* 文件系统的功能
  	1. 按名存取
  	2. 统一的用户接口
  	3. 并发访问和控制
  	4. 安全性控制：不同用户对同一文件可有不同的访问权限
  	5. 优化性能：提高对文件的存储效率
  	6. 差错恢复：能够验证文件的正确性
* 文件的存取方法
  	1. 顺序存取
  	2. 随机存取
  
### 1.4嵌入式操作系统
#### 嵌入式系统分类
<img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%88%86%E7%B1%BB.png" alt="嵌入式系统分类" width="40%"/>

#### 嵌入式系统特点、架构
* 嵌入式系统**最大特点**就是系统的**运行**和**开发**是在不同环境中进行的，通常运行环境称为“目标机”环境，开发环境称为“宿主机”环境。
	- 可剪裁性：例如，在一个嵌入式的车载音响系统中，可能只包含播放音乐和电台的功能，而不会包含像个人电脑那样的复杂操作系统和应用程序。
	- 可配置性：例如，一台工业机器人可以配置不同的程序来执行不同的任务，比如装配、搬运或者喷涂。
	- 强实时性：例如，一个汽车的防抱死制动系统（ABS）必须在检测到滑动的瞬间立即反应，以防止车轮抱死。
	- 安全性：例如，心脏起搏器必须能够在任何情况下可靠地运行，以确保患者的生命安全。
	- 可靠性：例如，火箭的导航系统必须在整个飞行过程中都能可靠地工作，否则可能导致任务失败甚至灾难。
	- 高确定性：例如，在飞机起飞和降落过程中，飞行控制系统必须按照预定的程序和时间表执行任务，以确保飞行的安全和顺利。
* 嵌入式系统架构(目标机)
  	- <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E7%9B%AE%E6%A0%87%E6%9C%BA%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E7%BB%84%E6%88%90%E6%9E%B6%E6%9E%84.png" alt="嵌入式系统目标机架构图" width="40%"/>
* 嵌入式系统开发与传统的软件开发方法的差异
	1. 嵌入式软件开发是在宿主机上使用专门的嵌入式工具开发，生成二进制代码后，需要使用工具加载到目标机上运行
	2. 嵌入式系统的资源有限，要充分考虑代码规模，要对代码和算法进行优化，所以更强调软/硬件协同工作的效率和稳定性
	3. 嵌入式软件开发的结果通常需要固化在处理器内部储存器资源/目标系统的储存器中，为的就是目标系统的快速启动和运行
	4. 嵌入式软件的开发需要专门的工具、目标系统、测试设备
	5. 嵌入式软件对实时性、安全性、可靠性要求更高
	6. 在安全攸关系统中的嵌入式软件，要符合特定领域的标准
#### 安全攸关软件的安全性设计
todo
#### 使用较广泛的几种嵌入式操作系统产品
| 操作系统         | 内核架构  | 分类                   |
|-----------------|---------|-----------------------|
| VRTX            | 宏内核  | 嵌入式实时操作系统       |
| VxWorks         | 宏内核  | 嵌入式实时操作系统       |
| LynxOS          | 宏内核 |      嵌入式实时操作系统  |
| Nucleus         |   微内核 |   嵌入式实时操作系统   |
| QNX            |   微内核 |   嵌入式实时操作系统   |
| Android         |   宏内核    | 非实时嵌入式操作系统      |
| iOS             |   混合内核      | 非实时嵌入式操作系统      |
| ROS             |   宏内核 |   嵌入式实时操作系统   |
| 天脉(AcoreOS)   |  混合内核       |   嵌入式实时操作系统   |
| 瑞华(ReWoks)    |  混合内核       |   嵌入式实时操作系统   |
| 麒麟(Kirin)      |  混合内核       |   嵌入式实时操作系统   |
| 鸿蒙(HarmonyOS) |  混合内核       |   嵌入式实时操作系统   |

### 1.5计算机网络
#### 网络的功能
* 数据通信
* 资源共享：资源包括硬件、软件、数据
* 管理集中化：管理系统实现日常工作的集中管理、提高工作效率
* 实现分布式处理
* 负载均衡

#### 网络的指标
* 性能指标
	1. 速率：也称比特率、数据率。速率的单位是b/s(比特每秒)；1Mbps = 1024Kbps = 128KB/s
	2. 带宽：网络的通信线路传送数据的能力。单位也是b/s
	3. 吞吐量：单位时间内通过某个网络的数据量。吞吐量 < 带宽
	4. 时延：包括**发送时延**、**传播时延**、**处理时延**、**排队时延**
	5. 往返时间(RTT)
	6. 利用率：
* 非性能指标
	1. 费用
	2. 质量
	3. 标准化
	4. 可靠性
	5. 可扩展和可升级
	6. 易管理和维护性
#### 通信技术
- 数据与信道：数据通过信道来传输。信道是信息的传输通道。先编码后调制
	- <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E8%B0%83%E5%88%B6%E4%BF%A1%E9%81%93%E4%B8%8E%E7%BC%96%E7%A0%81%E4%BF%A1%E9%81%93%E5%9B%BE.png" alt="调制信道与编码信道图" width="40%"/>
- 复用技术：在一条信道上同时传输多路数据的技术
- 多址技术：在一条线上同时传输多个用户数据的技术。复用技术是多址技术的基础
- 5G通信网络：Polar码是用作5G控制信道的主要编码方式。
#### 网络技术
- 局域网（LAN）：封闭型
- 以太网（Ethernet）：一种计算机局域网组网技术
- 无线局域网(WLAN)
- 广域网(WAN)
- 城域网(MAN)：介于局域网和广域网之间
- 移动通信网：5G网络的主要特征(服务化架构、网络切片)
  	- 服务化架构
  	- 网络切片
#### 组网技术
- 网络设备及其工作层级
	- 集线器：物理层。会将接收到的数据包发送到所有端口，广播到所有端口。早期产品。
	- 中继器：物理层。中继器可以用于扩展网络的传输距离，或在信号衰减时改善信号质量。
	- 交换机：数据链路层。交换机通过智能转发和**MAC地址**表的管理，实现了数据的有针对性转发和隔离。而不是广播到所有端口
	- 路由器：网络层。因为处于网络层，所以可以处理ip相关任务，其中wan口可以连接广域网，接受广域网的数据，将其转发到lan口的设备
- 网络协议
	- <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B.png" alt="网络协议模型" width="40%"/>
	- OSI七层协议
		1. 物理层
		2. 数据链路层
		3. 网络层
		4. 传输层
		5. 会话层
		6. 表示层
		7. 应用层
  	- TCP/IP模型
  		1. 网络接口层(network access layer) : Ethernet,WLAN
  		2. 网际层(Internet Protocol layer) : IP,ICMP,ARP
  		3. 传输层(transport layer) : TCP,UDP
  		4. 应用层(application layer) : HTTP,FTP,Telnet,NTP,DHCP,DNS


#### 网络工程
- 网络建设工程
	- 网络规划：网络需求分析、可行性分析
	- 网络设计：目标确定、设备选型、通信子网设计等
	- 网络实施：采购、安装、调试等
## 二、信息系统基础知识
### 2.1信息系统概述
#### 信息系统的定义
- 定义
> 信息系统是由计算机硬件、网络和通信设备、计算机软件、信息资源、信息用户和规章制
度组成的以处理信息流为目的的人机一体化系统。信息系统是以计算机为基础的人机交互系统。
- 功能：输入、存储、处理、输出、控制
- 发展阶段：诺兰模型，初始阶段、传播阶段、控制阶段、集成阶段、数据管理阶段和成熟阶段。
#### 信息系统的生命周期
1. 信息系统的产生阶段：概念产生、需求分析
2. 信息系统的开发阶段：总体规划、系统分析、系统设计、系统实施和系统验收阶段
3. 信息系统的运行阶段：系统维护，排错性维护、适应性维护、完善性维护和预防性维护
4. 信息系统的消亡阶段：技术更新升级，企业处于瞬息万变的市场竞争的环境中，需要更新换代
#### 信息系统的开发方法
- 结构化方法
- 原型法
- 面向对象
- 面向服务：微服务结构属于这种软件开发方法
### 2.2信息化的典型应用
#### ERP
#### WMS
#### MES/SFC
#### PDM
#### TPS和EDPS
#### MIS
#### DSS
#### ES
- <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%B8%BB%E8%A6%81%E5%88%86%E6%94%AF.png" alt="人工智能主要分支" width="40%"/>
#### OAS
### 2.3典型信息系统架构模型
#### 政府信息化与电子政务
与电子政务相关的行为主体主要有3个，即政府、企(事)业单位及居民。所以电子政务内容主要围绕这三个主体之间的关系展开：
- 政府与政府
- 政府对企事业单位
- 政府对居民
- 企业对政府
- 居民对政府
#### 企业信息化与电子商务
> 企业信息化的实施，一般来说，可以沿两个方向进行，一是自上而下，必须与企业的制度创新、组织创新和管理创新结合；二是自下而上，必须以作为企业主体的业务人员的直接受益和使用水平逐步提高为基础。

## 三、信息安全技术基础知识
### 3.1信息安全概述
- 定义
- 基本要素
	1. 机密性
	2. 完整性
	3. 可控性
	4. 可审查性
	5. 可用性
- 范围
	1. 设备安全
	2. 数据安全
	3. 行为安全
	4. 内容安全
### 3.2信息存储安全
- 信息使用的安全
	1. 用户的标识与验证
	2. 用户存取权限限制
- 系统安全监控
	1. 监控正在登录的用户，正在运行的进程
	2. 检查文件所有者、权限、修改日期情况
	3. 检查系统命令安全配置文件、口令文件
	4. 检查用户历史登录情况
- 计算机病毒防治
### 3.3网络安全
- 网络安全漏洞
- 网络安全威胁
- 安全措施目标
### 3.4信息系统安全的作用与意义
网络安全和信息化事关国家安全和国家发展，努力把我国建成为**网络强国**。
> 2014.2，习近平指出：没有**网络安全**就没有国家安全，没有信息化就没有现代化。
### 3.5信息安全系统的组成框架
- 技术体系：基础安全设备、操作系统安全、数据库安全、计算机网络安全
- 组织机构体系：机构、岗位、人事机构构成。
- 管理体系：法律管理、制度管理、培训管理
### 3.6信息加解密技术
#### 数据加密
- 对称密钥加密算法
- 非对称密钥加密算法
	- RSA：公钥加密，私钥解密。私钥加密签名，公钥验证签名
### 3.7密钥管理技术
### 3.8访问控制及数字签名技术
### 3.9信息安全的抗攻击技术
- DoS和DDoS：拒绝服务攻击，主要企图是借助于网络系统或网络协议的缺陷和配置漏洞进行网络攻击，使网络拥塞、系统资源耗尽或者系统应用死锁，妨碍目标主机和网络系统对正常用户服务请求的及时响应，造成服务的性能受损甚至导致服务中断。
	- 针对网络连接的拒绝服务攻击；
	- 消耗磁盘空间；
	- 消耗CPU资源和内存资源。
> <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/DDoS%E7%9A%84%E4%B8%89%E7%BA%A7%E7%BB%93%E6%9E%84.png" alt="DDoS三级结构" width="40%"/>
- ARP(Address Resolution Protocol)欺骗：ARP协议是通过解析网络层地址来找寻数据链路层地址的网络传输协议。如果攻击某个计算机后，伪造该计算机的ip地址，向其他设备发送ARP应答数据包，则将更新其他设备的ARP缓存表（ip与mac地址的映射）
- DNS欺骗
- IP欺骗
- 端口扫描：端口是由计算机的通信协议 TCP/IP协议定义的。
	- 端口扫描原理分类
		1. 全TCP：三次握手。这种扫描很容易被目标主机记录
		2. 半打开式扫描（SYN扫描）：基于TCP三次握手的过程，通过检查SYN-ACK包的响应来判断端口的状态
		3. FIN扫描：简单地发送一个带有FIN标志的TCP包，并根据是否收到RST包来判断端口的状态。
		4. 第三方扫描：代理扫描。
- ICMP攻击：ICMP洪水攻击，攻击方式是通过向目标主机发送大量的ICMP Echo Request（Ping）消息或其他ICMP消息来实现的。
### 3.10信息安全的保障体系与评估方法
- 风险评估的基本要素为脆弱性、资产、威胁、风险和安全措施
## 四、系统工程
### 4.1系统工程概述
- 定义
- 特点
### 4.2系统工程的方法
- 特点
	- 整体性
	- 综合性
	- 协调性
	- 科学性
	- 实践性
- 方法
	1. 霍尔的三维结构
	2. 切克兰德方法
	3. 并行工程方法
	4. 综合集成法
	5. WSR系统方法：“懂物理-明事理-通人理”该方法论的实践准则，形容一个人“通情达理”就是对其成功实践了WSR的概括。
### 4.3系统工程生命周期
1. 探索性研究阶段：目的是识别利益攸关者的需求，探索创意和技术。
2. 概念阶段：目的是细化利益攸关者的需求，探索可行概念，提出有望实现的解决方案。
3. 开发阶段：目的是细化系统需求，创建解决方案的描述，构建系统，验证并确认系统。
4. 生产阶段：目的是生产系统，并进行校验和验证。
5. 使用阶段：目的是运行系统以满足用户需求。
6. 保障阶段：目的是提供持续的系统能力。
7. 退役阶段：目的是存储、归档或退出系统。
#### 生命周期方法
- 计划驱动方法
- 渐进迭代式开发
- 精益开发
- 敏捷开发
### 4.4基于模型的系统工程（MBSE）
> MBSE 的三大支柱分别是**建模语言**、**建模工具**和**建模思路**。
1. 建模语言
	- 相当于在各个学科之间、各类人员之间建立了一门新的通用语言
	- 可以对知识图形化、可视化，便于理解
	- 便于计算机的处理
2. 建模工具：支持系统建模的软件
3. 建模思路：如何利用系统建模语言的各种图形建立系统模型
### 4.5系统性能
#### 性能指标
- 计算机：主频、内存存储容量、存取速率
- 路由器：传输速率、吞吐量
- 交换机：端口速率、转发速率、交换容量
- 网络：速率、带宽、吞吐量
- 操作系统：上下文切换、吞吐量、资源利用率、可靠性、可移植性
- 数据库：响应时间、索引性能、安全性能、并发性能
- Web服务器：最大并发连接数、响应延迟、吞吐量
#### 性能计算
- 定义法
- 公式法
- 程序检测法
- 仪器检测法
#### 性能设计
#### 性能评估
- 基准测试程序
- web服务器的性能评估
	- 基准性能测试
	- 可靠性测试
	- 压力测试
- 系统监视

## 五、软件工程基础知识
1968年，软件危机概念被提出：软件开发进度难以预测、软件开发成本难以控制、软件功能难以满足用户期望、软件质量无法保证、软件难以维护、软件缺乏适当的文档资料。为了解决软件危机，提出软件工程概念。
### 5.1软件工程
#### 软件过程模型/软件生命周期模型
##### 瀑布模型
最早使用的软件过程模型之一。
> <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E7%80%91%E5%B8%83%E6%A8%A1%E5%9E%8B.png" width="40%"/>
- 瀑布模型的缺点
	- 严格串行化的过程模型，用户要相当长的时间才可以得到一个看得见的软件系统
	- 软件需求的完整性和正确性等很难确定
##### 原型化模型/快速模型
由于瀑布模型的缺点，人们借鉴建筑师、工程建造原型的经验，提出了原型模型。
> <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%9E%8B.png" width="40%"/>
##### 螺旋模型
把整个软件开发流程分成多个阶段，每一阶段由四部分组成：
1. 目标设定
2. 风险分析
3. 开发和有效性验证
4. 评审
每迭代一次，软件系统就生成一个新版本
#### 敏捷模型
相比螺旋模型，对风险分析和评审阶段有所忽略，并且不是以过程为本的开发模型，所以该模型不属于软件过程模型下。
- 适应性，而非可预测性：拥抱变化，适应变化的需求
- 以人为本，而非以过程为本：强调开发人员的重要性，强调充分发挥人的特性，不去限制它；以及面对面沟通的重要性。
#### 统一过程模型
四个阶段、九个核心工作流
- <img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/RUP%E6%A8%A1%E5%9E%8B.png" width="50%"/>
#### 软件能力成熟度模型
### 5.2需求工程
### 5.3系统分析与设计
#### 面向对象方法(OO)
1. 面向对象分析（Object-Oriented Analysis，OOA）：客观世界是由对象组成的，对象由属性和操作组成，对象具有继承、封装、多态特性。
- OOA原则
	- 抽象
   	- 封装
  	- 继承
    	- 分类
    	- 聚合
    	- 关联
    	- 消息通信
    	- 粒度控制
    	- 行为分析
- OOA基本步骤
	1. 确定对象和类
	2. 确定结构
	3. 确定主题
	4. 确定属性
	5. 确定方法
## 六、数据库设计基础知识
## 七、系统架构设计基础知识
## 八、系统质量属性与架构评估
## 九、软件可靠性基础知识
## 十、软件架构的演化和维护
## 十一、未来信息综合技术
## 十二、标准化与知识产权
## 十三、应用数学
## 十四、专业英语

---
# 系统架构设计案例分析
## 一、系统规划
## 二、信息系统架构设计理论与实践
## 三、层次式架构设计理论与实践
## 四、云原生架构设计理论与实践
## 五、面向服务的架构设计理论与实践
## 六、嵌入式系统架构设计理论与实践
## 七、通信系统架构设计理论与实践
## 八、安全架构的设计理论与实践
## 九、大数据架构设计理论与实践
---
### 基于架构的软件开发方法
### 系统架构评估方法
#### SAAM
### 特定领域软件体系结构
### 信息加解密技术
#### 对称密钥加密算法
#### 非对称密钥加密算法
### 软件系统质量属性
### 多任务间常用的通信方式
* 共享内存：访问共享的数据结构
* 信号量：任务间通信、同步、互斥的最优选择
	- 二进制信号量
	- 互斥信号量
	- 计数信号量
* 消息队列（管道是消息队列中的一种）
	1. 使用方法
		- 非互锁的单向数据通信
		- 互锁的单向数据通信
		- 互锁的双向数据通信
		- 广播通信
	2. 队列存在的多种方式
		- 先进先出（FIFO）
		- 先进后出（FILO）
		- 紧急消息
		- 优先级消息
		- 时限消息
* Socket和远程调用：任务间透明的网络通信
	- 原理图<img src="https://github.com/redcarp666/system-architect-of-chinese-software-qualification-exam/blob/main/img/Socket%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%9B%BE.png" alt="socket基本原理图" width="60%"/>
* Signals：一种VxWorks操作系统中进程间通信和处理异步事件的机制

### 数据库三级模式
### 关系数据库范式
### 软件架构复用
### 面向架构评估的质量属性
#### 可靠性

### 基于模型的系统工程(Model-Based Systems Engineering,MBSE) 
### 软件过程模型

### 软件架构风格
#### 软件架构风格概述
> 一个体系结构定义一个词汇表和一组约束。

## 软件测试
### 测试方法
### 测试阶段

## 通信系统架构
### 网络安全



## 软件架构的演化和维护

